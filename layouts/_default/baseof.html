<!DOCTYPE html>
<html lang="{{ site.LanguageCode | default "en" }}" {{- with partialCached "func/GetLanguageDirection" "GetLanguageDirection" }} dir="{{ . }}" {{- end }}>
  <head>

    {{ block "all-head" . }}{{ partial "head.html" . }}{{ end }}

	  {{ block "head-extra" . }}{{ partial "head-extra.html" . }}{{ end }}

  </head>


  <body>

    {{ block "header" . }}{{ partial "page-header.html" .}}{{ end }}

    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            new PagefindUI({ element: "#search" });
        });
    </script>

    <main data-pagefind-body role="main">
      {{ block "main" . }}{{ end }}
    </main>

    {{ block "footer" . }}{{ partialCached "site-footer.html" . }}{{ end }}

    {{ block "footnotes-script" . }}{{ partial "footnotes-script.html" . }}{{ end }}

    <div class="scroll-to-top" onclick="document.body.scrollTop = 0; document.documentElement.scrollTop = 0;"></div>

    <script>

      var anchors = document.getElementsByTagName("a");

      for (var i = 0; i < anchors.length; i++) {
        const old = anchors[i].href;
        const new_url = old.replace("http://localhost:1313/", "https://utilitarianism.net/");
        anchors[i].href = new_url;
      }

    </script>

  </body>

</html>
